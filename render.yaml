services:
  - type: web
    name: ytdlp-service
    runtime: python
    region: oregon
    plan: starter
    buildCommand: bash build.sh
    startCommand: bash start.sh
    healthCheckPath: /api/v1/health
    envVars:
      - key: ALLOWED_ORIGINS
        value: https://videosync.video,https://cmachine.devthuku.io
      - key: FILE_TTL_SECONDS
        value: 300
      - key: DOWNLOADS_DIR
        value: /tmp/downloads
      - key: CLEANUP_INTERVAL_SECONDS
        value: 60
      - key: LOG_LEVEL
        value: INFO
      - key: GOOGLE_API_KEY
        sync: false   # Set manually in Render dashboard — never committed to git
      - key: PLAYWRIGHT_BROWSERS_PATH
        value: /opt/render/project/src/.playwright-browsers
      - key: QDRANT_URL
        sync: false   # Set manually — same Qdrant instance as Rust video_editor app
      - key: QDRANT_API_KEY
        sync: false   # Set manually in Render dashboard
      - key: DATABASE_URL
        sync: false   # Set manually — same Neon PostgreSQL as Rust video_editor app
